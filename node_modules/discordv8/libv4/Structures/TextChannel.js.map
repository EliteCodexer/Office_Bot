{"version":3,"sources":["../../src/Structures/TextChannel.js"],"names":["TextChannel","data","client","server","topic","lastMessageID","last_message_id","webhooks","messages","options","maxCachedMessages","obj","setChannelTopic","apply","arguments","sendMessage","sendTTSMessage","sendFile","getChannelLogs","getMessage","startTyping","stopTyping","get"],"mappings":"AAAA;;;;;;;;;;AAEA;;;;AACA;;;;AACA;;;;;;;;;;IAEqBA,W;;;AACpB,sBAAYC,IAAZ,EAAkBC,MAAlB,EAA0BC,MAA1B,EAAiC;AAAA;;AAAA,wHAC1BF,IAD0B,EACpBC,MADoB,EACZC,MADY;;AAGhC,QAAKC,KAAL,GAAaH,KAAKG,KAAlB;AACA,QAAKC,aAAL,GAAqBJ,KAAKK,eAAL,IAAwBL,KAAKI,aAAlD;AACA,QAAKE,QAAL,GAAgB,oBAAU,IAAV,CAAhB;AACA,QAAKC,QAAL,GAAgB,oBAAU,IAAV,EAAgBN,OAAOO,OAAP,CAAeC,iBAA/B,CAAhB;AANgC;AAOhC;;AAED;;;;;6BAKW;AACV,OAAIC,wHAAJ;;AAEAA,OAAIP,KAAJ,GAAY,KAAKA,KAAjB;AACAO,OAAIN,aAAJ,GAAoB,KAAKA,aAAzB;;AAEA,UAAOM,GAAP;AACA;;;6BAES;AACT,UAAO,KAAKT,MAAL,CAAYU,eAAZ,CAA4BC,KAA5B,CAAkC,KAAKX,MAAvC,EAA+C,8BAAI,IAAJ,EAAUY,SAAV,CAA/C,CAAP;AACA;;;gCAEY;AACZ,UAAO,KAAKZ,MAAL,CAAYa,WAAZ,CAAwBF,KAAxB,CAA8B,KAAKX,MAAnC,EAA2C,8BAAI,IAAJ,EAAUY,SAAV,CAA3C,CAAP;AACA;;;yBAEK;AACL,UAAO,KAAKZ,MAAL,CAAYa,WAAZ,CAAwBF,KAAxB,CAA8B,KAAKX,MAAnC,EAA2C,8BAAI,IAAJ,EAAUY,SAAV,CAA3C,CAAP;AACA;;;mCAEe;AACf,UAAO,KAAKZ,MAAL,CAAYc,cAAZ,CAA2BH,KAA3B,CAAiC,KAAKX,MAAtC,EAA8C,8BAAI,IAAJ,EAAUY,SAAV,CAA9C,CAAP;AACA;;;4BAEQ;AACR,UAAO,KAAKZ,MAAL,CAAYc,cAAZ,CAA2BH,KAA3B,CAAiC,KAAKX,MAAtC,EAA8C,8BAAI,IAAJ,EAAUY,SAAV,CAA9C,CAAP;AACA;;;6BAES;AACT,UAAO,KAAKZ,MAAL,CAAYe,QAAZ,CAAqBJ,KAArB,CAA2B,KAAKX,MAAhC,EAAwC,8BAAI,IAAJ,EAAUY,SAAV,CAAxC,CAAP;AACA;;;4BAEQ;AACR,UAAO,KAAKZ,MAAL,CAAYgB,cAAZ,CAA2BL,KAA3B,CAAiC,KAAKX,MAAtC,EAA8C,8BAAI,IAAJ,EAAUY,SAAV,CAA9C,CAAP;AACA;;;+BAEY;AACZ,UAAO,KAAKZ,MAAL,CAAYiB,UAAZ,CAAuBN,KAAvB,CAA6B,KAAKX,MAAlC,EAA0C,8BAAI,IAAJ,EAAUY,SAAV,CAA1C,CAAP;AACA;;;gCAEY;AACZ,UAAO,KAAKZ,MAAL,CAAYkB,WAAZ,CAAwBP,KAAxB,CAA8B,KAAKX,MAAnC,EAA2C,8BAAI,IAAJ,EAAUY,SAAV,CAA3C,CAAP;AACA;;;+BAEW;AACX,UAAO,KAAKZ,MAAL,CAAYmB,UAAZ,CAAuBR,KAAvB,CAA6B,KAAKX,MAAlC,EAA0C,8BAAI,IAAJ,EAAUY,SAAV,CAA1C,CAAP;AACA;;;sBAnDgB;AAChB,UAAO,KAAKN,QAAL,CAAcc,GAAd,CAAkB,IAAlB,EAAwB,KAAKjB,aAA7B,CAAP;AACA;;;;;;kBAbmBL,W","file":"TextChannel.js","sourcesContent":["\"use strict\";\n\nimport ServerChannel from \"./ServerChannel\";\nimport Cache from \"../Util/Cache\";\nimport {reg} from \"../Util/ArgumentRegulariser\";\n\nexport default class TextChannel extends ServerChannel{\n\tconstructor(data, client, server){\n\t\tsuper(data, client, server);\n\n\t\tthis.topic = data.topic;\n\t\tthis.lastMessageID = data.last_message_id || data.lastMessageID;\n\t\tthis.webhooks = new Cache(\"id\");\n\t\tthis.messages = new Cache(\"id\", client.options.maxCachedMessages);\n\t}\n\n\t/* warning! may return null */\n\tget lastMessage(){\n\t\treturn this.messages.get(\"id\", this.lastMessageID);\n\t}\n\n\ttoObject() {\n\t\tlet obj = super.toObject();\n\t\t\n\t\tobj.topic = this.topic;\n\t\tobj.lastMessageID = this.lastMessageID;\n\n\t\treturn obj;\n\t}\n\n\tsetTopic(){\n\t\treturn this.client.setChannelTopic.apply(this.client, reg(this, arguments));\n\t}\n\n\tsendMessage(){\n\t\treturn this.client.sendMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tsend(){\n\t\treturn this.client.sendMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tsendTTSMessage(){\n\t\treturn this.client.sendTTSMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tsendTTS(){\n\t\treturn this.client.sendTTSMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tsendFile(){\n\t\treturn this.client.sendFile.apply(this.client, reg(this, arguments));\n\t}\n\n\tgetLogs(){\n\t\treturn this.client.getChannelLogs.apply(this.client, reg(this, arguments));\n\t}\n\n\tgetMessage() {\n\t\treturn this.client.getMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tstartTyping(){\n\t\treturn this.client.startTyping.apply(this.client, reg(this, arguments));\n\t}\n\n\tstopTyping(){\n\t\treturn this.client.stopTyping.apply(this.client, reg(this, arguments));\n\t}\n}\n"]}