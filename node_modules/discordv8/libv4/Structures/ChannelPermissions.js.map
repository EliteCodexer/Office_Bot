{"version":3,"sources":["../../src/Structures/ChannelPermissions.js"],"names":["ChannelPermissions","permissions","explicit","hp","perm","hasPermission","json","permission","serialise","String","manageRoles"],"mappings":"AAAA;;;;;;;;AAEA;;;;IAEqBA,kB;AACpB,6BAAYC,WAAZ,EAAwB;AAAA;;AACvB,OAAKA,WAAL,GAAmBA,WAAnB;AACA;;;;4BAESC,Q,EAAS;AAAA;;AAElB,OAAIC,KAAK,SAALA,EAAK,CAACC,IAAD;AAAA,WAAU,MAAKC,aAAL,CAAmBD,IAAnB,EAAyBF,QAAzB,CAAV;AAAA,IAAT;;AAEA,OAAII,OAAO,EAAX;;AAEA,QAAI,IAAIC,UAAR,4BAAmC;AAClCD,SAAKC,UAAL,IAAmBJ,GAAI,uBAAYI,UAAZ,CAAJ,CAAnB;AACA;;AAED,UAAOD,IAAP;AACA;;;8BAEU;AACV;AACA,UAAO,KAAKE,SAAL,EAAP;AACA;;;gCAEaJ,I,EAAqB;AAAA,OAAfF,QAAe,uEAAN,KAAM;;AAClC,OAAIE,gBAAgBK,MAAhB,IAA0B,OAAOL,IAAP,KAAgB,QAA9C,EAAwD;AACvDA,WAAO,uBAAYA,IAAZ,CAAP;AACA;AACD,OAAG,CAACA,IAAJ,EAAS;AACR,WAAO,KAAP;AACA;AACD,OAAG,CAACF,QAAJ,EAAa;AAAE;AACd,QAAI,CAAC,EAAE,KAAKD,WAAL,GAAmB,uBAAYS,WAAjC,CAAL,EAAoD;AACnD;AACA,YAAO,IAAP;AACA;AACD;AACD,UAAO,CAAC,EAAE,KAAKT,WAAL,GAAmBG,IAArB,CAAR;AACA;;;;;;kBArCmBJ,kB","file":"ChannelPermissions.js","sourcesContent":["\"use strict\";\n\nimport {Permissions} from \"../Constants\";\n\nexport default class ChannelPermissions {\n\tconstructor(permissions){\n\t\tthis.permissions = permissions;\n\t}\n\n\tserialise(explicit){\n\n\t\tvar hp = (perm) => this.hasPermission(perm, explicit);\n\n\t\tvar json = {};\n\n\t\tfor(var permission in Permissions) {\n\t\t\tjson[permission] = hp( Permissions[permission] );\n\t\t}\n\n\t\treturn json;\n\t}\n\n\tserialize(){\n\t\t// ;n;\n\t\treturn this.serialise();\n\t}\n\n\thasPermission(perm, explicit=false){\n\t\tif( perm instanceof String || typeof perm === \"string\" ){\n\t\t\tperm = Permissions[perm];\n\t\t}\n\t\tif(!perm){\n\t\t\treturn false;\n\t\t}\n\t\tif(!explicit){ // implicit permissions allowed\n\t\t\tif( !!(this.permissions & Permissions.manageRoles) ){\n\t\t\t\t// manageRoles allowed, they have all permissions\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn !!(this.permissions & perm);\n\t}\n}\n"]}