{"version":3,"sources":["../../src/Structures/User.js"],"names":["User","constructor","data","client","username","discriminator","id","avatar","bot","status","game","typing","since","channel","note","voiceChannel","voiceState","speaking","createdAt","Date","avatarURL","AVATAR","name","mention","toString","toObject","keys","obj","k","channelID","voiceChannelID","equalsStrict","equals","sendMessage","apply","arguments","send","sendTTSMessage","sendTTS","sendFile","startTyping","stopTyping","addTo","role","callback","addMemberToRole","removeFrom","removeMemberFromRole","getLogs","getChannelLogs","getMessage","hasRole","memberHasRole"],"mappings":"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","file":"User.js","sourcesContent":["\"use strict\";\n\nimport Equality from \"../Util/Equality\";\nimport {Endpoints} from \"../Constants\";\nimport {reg} from \"../Util/ArgumentRegulariser\";\n\nexport default class User extends Equality {\n\tconstructor(data, client){\n\t\tsuper();\n\t\tthis.client = client;\n\t\tthis.username = data.username;\n\t\tthis.discriminator = data.discriminator;\n\t\tthis.id = data.id;\n\t\tthis.avatar = data.avatar;\n\t\tthis.bot = !!data.bot;\n\t\tthis.status = data.status || \"offline\";\n\t\tthis.game = data.game || null;\n\t\tthis.typing = {\n\t\t\tsince : null,\n\t\t\tchannel : null\n\t\t};\n\t\tthis.note = data.note || null;\n\t\tthis.voiceChannel = null;\n\t\tthis.voiceState = {};\n\t\tthis.speaking = false;\n\t}\n\n\tget createdAt() {\n\t\treturn new Date((+this.id / 4194304) + 1420070400000);\n\t}\n\n\tget avatarURL(){\n\t\tif(!this.avatar){\n\t\t\treturn null;\n\t\t}else{\n\t\t\treturn Endpoints.AVATAR(this.id, this.avatar);\n\t\t}\n\t}\n\n\tget name() {\n\t\treturn this.username;\n\t}\n\n\tmention(){\n\t\treturn `<@${this.id}>`;\n\t}\n\n\ttoString(){\n\t\treturn this.mention();\n\t}\n\n\ttoObject() {\n\t\tlet keys = ['id', 'username', 'discriminator', 'avatar', 'bot', 'status', 'game', 'note', 'voiceState', 'speaking'],\n\t\t\tobj = {};\n\n\t\tfor (let k of keys) {\n\t\t\tobj[k] = this[k];\n\t\t}\n\n\t\tobj.typing = {\n\t\t\tsince: this.typing.since,\n\t\t\tchannelID: this.typing.channel ? this.typing.channel.id : null\n\t\t};\n\t\tobj.voiceChannelID = this.voiceChannel ? this.voiceChannel.id : null;\n\n\t\treturn obj;\n\t}\n\n\tequalsStrict(obj){\n\t\tif(obj instanceof User)\n\t\t\treturn (\n\t\t\t\tthis.id === obj.id &&\n\t\t\t\tthis.username === obj.username &&\n\t\t\t\tthis.discriminator === obj.discriminator &&\n\t\t\t\tthis.avatar === obj.avatar &&\n\t\t\t\tthis.status === obj.status &&\n\t\t\t\t(this.game === obj.game || this.game && obj.game && this.game.name === obj.game.name)\n\t\t\t);\n\t\telse\n\t\t\treturn false;\n\t}\n\n\tequals(obj){\n\t\tif(obj instanceof User)\n\t\t\treturn (\n\t\t\t\tthis.id === obj.id &&\n\t\t\t\tthis.username === obj.username &&\n\t\t\t\tthis.discriminator === obj.discriminator &&\n\t\t\t\tthis.avatar === obj.avatar\n\t\t\t);\n\t\telse\n\t\t\treturn false;\n\t}\n\n\tsendMessage(){\n\t\treturn this.client.sendMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tsend() {\n\t\treturn this.client.sendMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tsendTTSMessage(){\n\t\treturn this.client.sendTTSMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tsendTTS() {\n\t\treturn this.client.sendTTSMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tsendFile() {\n\t\treturn this.client.sendFile.apply(this.client, reg(this, arguments));\n\t}\n\n\tstartTyping() {\n\t\treturn this.client.startTyping.apply(this.client, reg(this, arguments));\n\t}\n\n\tstopTyping() {\n\t\treturn this.client.stopTyping.apply(this.client, reg(this, arguments));\n\t}\n\n\taddTo(role, callback) {\n\t\treturn this.client.addMemberToRole.apply(this.client, [this, role, callback]);\n\t}\n\n\tremoveFrom(role, callback) {\n\t\treturn this.client.removeMemberFromRole.apply(this.client, [this, role, callback]);\n\t}\n\n\tgetLogs() {\n\t\treturn this.client.getChannelLogs.apply(this.client, reg(this, arguments));\n\t}\n\n\tgetMessage() {\n\t\treturn this.client.getMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\thasRole(role) {\n\t\treturn this.client.memberHasRole.apply(this.client, [this, role]);\n\t}\n}\n"]}