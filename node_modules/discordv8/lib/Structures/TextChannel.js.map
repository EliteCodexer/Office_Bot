{"version":3,"sources":["../../src/Structures/TextChannel.js"],"names":["TextChannel","constructor","data","client","server","topic","lastMessageID","last_message_id","webhooks","messages","options","maxCachedMessages","lastMessage","get","toObject","obj","setTopic","setChannelTopic","apply","arguments","sendMessage","send","sendTTSMessage","sendTTS","sendFile","getLogs","getChannelLogs","getMessage","startTyping","stopTyping"],"mappings":"AAAA;;;;;;AAEA;;;;AACA;;;;AACA;;;;AAEe,MAAMA,WAAN,iCAAuC;AACrDC,aAAYC,IAAZ,EAAkBC,MAAlB,EAA0BC,MAA1B,EAAiC;AAChC,QAAMF,IAAN,EAAYC,MAAZ,EAAoBC,MAApB;;AAEA,OAAKC,KAAL,GAAaH,KAAKG,KAAlB;AACA,OAAKC,aAAL,GAAqBJ,KAAKK,eAAL,IAAwBL,KAAKI,aAAlD;AACA,OAAKE,QAAL,GAAgB,oBAAU,IAAV,CAAhB;AACA,OAAKC,QAAL,GAAgB,oBAAU,IAAV,EAAgBN,OAAOO,OAAP,CAAeC,iBAA/B,CAAhB;AACA;;AAED;AACA,KAAIC,WAAJ,GAAiB;AAChB,SAAO,KAAKH,QAAL,CAAcI,GAAd,CAAkB,IAAlB,EAAwB,KAAKP,aAA7B,CAAP;AACA;;AAEDQ,YAAW;AACV,MAAIC,MAAM,MAAMD,QAAN,EAAV;;AAEAC,MAAIV,KAAJ,GAAY,KAAKA,KAAjB;AACAU,MAAIT,aAAJ,GAAoB,KAAKA,aAAzB;;AAEA,SAAOS,GAAP;AACA;;AAEDC,YAAU;AACT,SAAO,KAAKb,MAAL,CAAYc,eAAZ,CAA4BC,KAA5B,CAAkC,KAAKf,MAAvC,EAA+C,8BAAI,IAAJ,EAAUgB,SAAV,CAA/C,CAAP;AACA;;AAEDC,eAAa;AACZ,SAAO,KAAKjB,MAAL,CAAYiB,WAAZ,CAAwBF,KAAxB,CAA8B,KAAKf,MAAnC,EAA2C,8BAAI,IAAJ,EAAUgB,SAAV,CAA3C,CAAP;AACA;;AAEDE,QAAM;AACL,SAAO,KAAKlB,MAAL,CAAYiB,WAAZ,CAAwBF,KAAxB,CAA8B,KAAKf,MAAnC,EAA2C,8BAAI,IAAJ,EAAUgB,SAAV,CAA3C,CAAP;AACA;;AAEDG,kBAAgB;AACf,SAAO,KAAKnB,MAAL,CAAYmB,cAAZ,CAA2BJ,KAA3B,CAAiC,KAAKf,MAAtC,EAA8C,8BAAI,IAAJ,EAAUgB,SAAV,CAA9C,CAAP;AACA;;AAEDI,WAAS;AACR,SAAO,KAAKpB,MAAL,CAAYmB,cAAZ,CAA2BJ,KAA3B,CAAiC,KAAKf,MAAtC,EAA8C,8BAAI,IAAJ,EAAUgB,SAAV,CAA9C,CAAP;AACA;;AAEDK,YAAU;AACT,SAAO,KAAKrB,MAAL,CAAYqB,QAAZ,CAAqBN,KAArB,CAA2B,KAAKf,MAAhC,EAAwC,8BAAI,IAAJ,EAAUgB,SAAV,CAAxC,CAAP;AACA;;AAEDM,WAAS;AACR,SAAO,KAAKtB,MAAL,CAAYuB,cAAZ,CAA2BR,KAA3B,CAAiC,KAAKf,MAAtC,EAA8C,8BAAI,IAAJ,EAAUgB,SAAV,CAA9C,CAAP;AACA;;AAEDQ,cAAa;AACZ,SAAO,KAAKxB,MAAL,CAAYwB,UAAZ,CAAuBT,KAAvB,CAA6B,KAAKf,MAAlC,EAA0C,8BAAI,IAAJ,EAAUgB,SAAV,CAA1C,CAAP;AACA;;AAEDS,eAAa;AACZ,SAAO,KAAKzB,MAAL,CAAYyB,WAAZ,CAAwBV,KAAxB,CAA8B,KAAKf,MAAnC,EAA2C,8BAAI,IAAJ,EAAUgB,SAAV,CAA3C,CAAP;AACA;;AAEDU,cAAY;AACX,SAAO,KAAK1B,MAAL,CAAY0B,UAAZ,CAAuBX,KAAvB,CAA6B,KAAKf,MAAlC,EAA0C,8BAAI,IAAJ,EAAUgB,SAAV,CAA1C,CAAP;AACA;AA9DoD;kBAAjCnB,W","file":"TextChannel.js","sourcesContent":["\"use strict\";\n\nimport ServerChannel from \"./ServerChannel\";\nimport Cache from \"../Util/Cache\";\nimport {reg} from \"../Util/ArgumentRegulariser\";\n\nexport default class TextChannel extends ServerChannel{\n\tconstructor(data, client, server){\n\t\tsuper(data, client, server);\n\n\t\tthis.topic = data.topic;\n\t\tthis.lastMessageID = data.last_message_id || data.lastMessageID;\n\t\tthis.webhooks = new Cache(\"id\");\n\t\tthis.messages = new Cache(\"id\", client.options.maxCachedMessages);\n\t}\n\n\t/* warning! may return null */\n\tget lastMessage(){\n\t\treturn this.messages.get(\"id\", this.lastMessageID);\n\t}\n\n\ttoObject() {\n\t\tlet obj = super.toObject();\n\t\t\n\t\tobj.topic = this.topic;\n\t\tobj.lastMessageID = this.lastMessageID;\n\n\t\treturn obj;\n\t}\n\n\tsetTopic(){\n\t\treturn this.client.setChannelTopic.apply(this.client, reg(this, arguments));\n\t}\n\n\tsendMessage(){\n\t\treturn this.client.sendMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tsend(){\n\t\treturn this.client.sendMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tsendTTSMessage(){\n\t\treturn this.client.sendTTSMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tsendTTS(){\n\t\treturn this.client.sendTTSMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tsendFile(){\n\t\treturn this.client.sendFile.apply(this.client, reg(this, arguments));\n\t}\n\n\tgetLogs(){\n\t\treturn this.client.getChannelLogs.apply(this.client, reg(this, arguments));\n\t}\n\n\tgetMessage() {\n\t\treturn this.client.getMessage.apply(this.client, reg(this, arguments));\n\t}\n\n\tstartTyping(){\n\t\treturn this.client.startTyping.apply(this.client, reg(this, arguments));\n\t}\n\n\tstopTyping(){\n\t\treturn this.client.stopTyping.apply(this.client, reg(this, arguments));\n\t}\n}\n"]}