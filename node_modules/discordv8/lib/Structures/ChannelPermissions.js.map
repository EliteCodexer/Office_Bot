{"version":3,"sources":["../../src/Structures/ChannelPermissions.js"],"names":["ChannelPermissions","constructor","permissions","serialise","explicit","hp","perm","hasPermission","json","permission","serialize","String","manageRoles"],"mappings":"AAAA;;;;;;AAEA;;AAEe,MAAMA,kBAAN,CAAyB;AACvCC,aAAYC,WAAZ,EAAwB;AACvB,OAAKA,WAAL,GAAmBA,WAAnB;AACA;;AAEDC,WAAUC,QAAV,EAAmB;;AAElB,MAAIC,KAAMC,IAAD,IAAU,KAAKC,aAAL,CAAmBD,IAAnB,EAAyBF,QAAzB,CAAnB;;AAEA,MAAII,OAAO,EAAX;;AAEA,OAAI,IAAIC,UAAR,4BAAmC;AAClCD,QAAKC,UAAL,IAAmBJ,GAAI,uBAAYI,UAAZ,CAAJ,CAAnB;AACA;;AAED,SAAOD,IAAP;AACA;;AAEDE,aAAW;AACV;AACA,SAAO,KAAKP,SAAL,EAAP;AACA;;AAEDI,eAAcD,IAAd,EAAoBF,WAAS,KAA7B,EAAmC;AAClC,MAAIE,gBAAgBK,MAAhB,IAA0B,OAAOL,IAAP,KAAgB,QAA9C,EAAwD;AACvDA,UAAO,uBAAYA,IAAZ,CAAP;AACA;AACD,MAAG,CAACA,IAAJ,EAAS;AACR,UAAO,KAAP;AACA;AACD,MAAG,CAACF,QAAJ,EAAa;AAAE;AACd,OAAI,CAAC,EAAE,KAAKF,WAAL,GAAmB,uBAAYU,WAAjC,CAAL,EAAoD;AACnD;AACA,WAAO,IAAP;AACA;AACD;AACD,SAAO,CAAC,EAAE,KAAKV,WAAL,GAAmBI,IAArB,CAAR;AACA;AArCsC;kBAAnBN,kB","file":"ChannelPermissions.js","sourcesContent":["\"use strict\";\n\nimport {Permissions} from \"../Constants\";\n\nexport default class ChannelPermissions {\n\tconstructor(permissions){\n\t\tthis.permissions = permissions;\n\t}\n\n\tserialise(explicit){\n\n\t\tvar hp = (perm) => this.hasPermission(perm, explicit);\n\n\t\tvar json = {};\n\n\t\tfor(var permission in Permissions) {\n\t\t\tjson[permission] = hp( Permissions[permission] );\n\t\t}\n\n\t\treturn json;\n\t}\n\n\tserialize(){\n\t\t// ;n;\n\t\treturn this.serialise();\n\t}\n\n\thasPermission(perm, explicit=false){\n\t\tif( perm instanceof String || typeof perm === \"string\" ){\n\t\t\tperm = Permissions[perm];\n\t\t}\n\t\tif(!perm){\n\t\t\treturn false;\n\t\t}\n\t\tif(!explicit){ // implicit permissions allowed\n\t\t\tif( !!(this.permissions & Permissions.manageRoles) ){\n\t\t\t\t// manageRoles allowed, they have all permissions\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn !!(this.permissions & perm);\n\t}\n}\n"]}